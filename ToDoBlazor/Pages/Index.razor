@page "/"


<InputItem Add="AddItem" />

<Todos TodoItems="@items"/>

@code{

    private TodoItems items = new TodoItems();

    protected override async Task OnInitializedAsync()
    {
        items = await httpClient.GetFromJsonAsync<TodoItems>("api/todo");
    }

    private async Task AddItem(string text)
    {
        var res = await httpClient.PostAsJsonAsync<CreateItemDTO>("api/todo", new CreateItemDTO { Text = text });



        if (!string.IsNullOrWhiteSpace(text) && res.IsSuccessStatusCode)
            items.Items.Add(new Item { Text = text });
    }

}


